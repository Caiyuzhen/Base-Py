# ğŸ”¥å¯¹è±¡çš„"é­”æ³•æ–¹æ³•"

# ğŸ”¥__new__(cls[...,...]) #åˆ›å»ºå¯¹è±¡æ—¶æœ€å¼€å§‹æ‰§è¡Œçš„æ–¹æ³•ï¼ˆä¸€èˆ¬ä¸ä¼šæ”¹åˆ° new æ–¹æ³•ï¼‰
# æ¯”å¦‚ä¿®æ”¹åŸæ¥ string çš„åŸå§‹å¯¹è±¡(å…¨éƒ¨å˜ä¸ºå¤§å†™)ï¼š

# class CapStr(str):
	# def __new__(cls, string):
	# 	string = string.upper()
	# 	return super().__new__(cls, string) # æŠŠä¿®æ”¹åçš„å‚æ•°è¿”å›ç»™çˆ¶ç±»ï¼


# ğŸ”¥å¯¹è±¡ã€è¢«é”€æ¯å‰ã€‘æ‰§è¡Œçš„æ–¹æ³•, å½“å¯¹è±¡ä¸åœ¨è¢«å¼•ç”¨æ—¶, ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶ç»™é”€æ¯
class C:
	def __init__(self):
		print('æ¥äº†ï½')

	def __del__(self):
		print('èµ°äº†ï½')

c1 = C()
d = c1
del c1 # âš¡ï¸âš¡ï¸ del æ˜¯ Python ä¸­çš„ä¸€ä¸ªå†…ç½®å…³é”®å­—ï¼Œå®ƒçš„ä½œç”¨æ˜¯åˆ é™¤ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æˆ–ä¸€ä¸ªå˜é‡ã€‚
del d # æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡éƒ½è¢«é”€æ¯æ—¶, æ‰ä¼šæ‰§è¡Œ __del__ æ–¹æ³•





# ğŸ”¥åœ¨å¯¹è±¡è¢«é”€æ¯å‰, æŠŠå¯¹è±¡çš„ self ç»™é€å‡ºå», å¯ä»¥è®©å¯¹è±¡ã€é‡ç”Ÿã€‘
class D:
	def __init__(self, name, func): # ğŸ”¥ func ç”¨æ¥é€å‡º self, åˆ©ç”¨ã€é—­åŒ…å‡½æ•°ã€‘æ¥ä¿å­˜ selfï¼ï¼ï¼
		self.name = name
		self.func = func

	
	def __del__(self):
		self.func(self) # ğŸ”¥è°ƒç”¨ func å‡½æ•°å¼


def outter(): # ğŸ”¥é—­åŒ…å‡½æ•°, é»˜è®¤ä¸º noneï¼Œ è¿”å› y, ä¼ å…¥ self æ—¶, ä¼šä¿®æ”¹ x, è¿”å› self
	x = 0
	def inner(y = None):
		nonlocal x # âš¡ï¸âš¡ï¸âš¡ï¸nonlocal ç”¨æ¥ä¿®æ”¹å¤–å±‚å‡½æ•°çš„å˜é‡(âš¡ï¸âš¡ï¸å¦åˆ™æ— æ³•ä¿®æ”¹ï¼)
		if y:
			x = y
		else:
			return x

	return inner #è¿”å›é—­åŒ…å‡½æ•°



f = outter()#å¤–éƒ¨ä½¿ç”¨ä¸å¸¦å‚æ•°, é»˜è®¤ä¸º noneï¼ï¼æ‰€ä»¥ä¼šè¿”å› x
e = D('å°æ', f) #âš¡ï¸âš¡ï¸âš¡ï¸æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥, self ä¼šä¼ å…¥åˆ°å‡½æ•°ä¸­ï¼ï¼



del e # åˆ é™¤å®ä¾‹

g = f()
print(g.name)




# ğŸ”¥ç»Ÿè®¡å­—ç¬¦ä¸²ç›¸åŠ çš„æ€»æ•°
class S(str):
	def __add__(self, other): #self æ–¹æ³•ï¼ˆâš¡ï¸ç¬¬ä¸€ä¸ªå®ä¾‹æ‰ä¼šè¢«é‡å†™ï¼‰
		return len(self) + len(other) # é‡å†™å­—ç¬¦ä¸²çš„åŠ æ³•æ–¹æ³•

s1 = S('abc') 
s2 = S('def')
s1 + s2 # 6 ä¸ªå­—ç¬¦