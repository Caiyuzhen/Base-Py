"""
	ç±»çš„åŒä¸‹åˆ’çº¿æ–¹æ³•(å†…ç½®æ–¹æ³•)
 
		__len__ è¿”å›æ•´æ•° (æ²¡å•¥ç”¨)
	
		__item__ æŠŠä¸€ä¸ªå¯¹è±¡è½¬åŒ–æˆä¸€ä¸ªå­—å…¸, å¹¶èµ‹äºˆå¢åˆ æ”¹æŸ¥æ–¹æ³•
  
		__repr__  æŠŠå¯¹è±¡æ”¹ä¸ºå­—ç¬¦ä¸²æ ¼å¼æ¥å±•ç¤º  (è¿”å›çš„å¿…é¡»æ˜¯å­—ç¬¦ä¸²æ‰èƒ½ç”¨ï¼å¦åˆ™ä¼šæŠ¥é”™ï¼)
		__str__  æŠŠå¯¹è±¡æ”¹ä¸ºå­—ç¬¦ä¸²æ ¼å¼æ¥å±•ç¤º
  
		__del__ ææ„æ–¹æ³•, åœ¨å¯¹è±¡æ¶ˆå¤±æ—¶ä¼šæ‰§è¡Œ  (æœ€åæ‰§è¡Œ)
  
		__new__ ä¼šåœ¨ init æ–¹æ³•ä¹‹å‰æ‰§è¡Œ(æ³¨æ„, å†™äº† new åéœ€è¦æ‰‹åŠ¨è°ƒç”¨ init !!), å¯ä»¥ç”¨æ¥åšã€å•å®ä¾‹ã€‘
  
		__call__ åƒè°ƒç”¨å‡½æ•°ä¸€æ ·å»è°ƒç”¨ä¸€ä¸ªå¯¹è±¡, åˆ©ç”¨ __call__ æ–¹æ³•å¯ä»¥åœ¨ç±»è¢«è°ƒç”¨æ—¶, å°±ä¼šè‡ªåŠ¨è§¦å‘
  
		type æ˜¯æ‰€æœ‰ç±»çš„å®—å¸ˆ, å¯ä»¥ç”¨æ¥åŠ¨æ€çš„åˆ›å»ºç±»
  
		isinstance(obj, cls) åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹
  
		issubclass(sub, super) åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»
"""



print("__len__ æ–¹æ³• â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


class Person:
	def __init__(self, name, age):
		self.name = name
		self.age = age
		
	def __len__(self):
		print("è§¦å‘äº†__len__æ–¹æ³•")
		return 2

p = Person("Jimmy", 30)
print(len(p))




print("__item__ æ–¹æ³•, ğŸ‘ å¾ˆå¥½ç”¨, ç”¨å­—å…¸æ¥æ”¶é›†å‚æ•° â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


class Brand:
	def __init__(self, name, area):
		self.name = name
		self.area = area

	def __getitem__(self, item):
		print("è·å– KEY", item)
		print("æ”¶é›†å‚æ•°æˆä¸ºå­—å…¸ï¼š",  self.__dict__) # ğŸ‘ˆğŸ”¥ å½“å‰ç±»çš„æ‰€æœ‰å±æ€§ nameã€area éƒ½å­˜åœ¨ self.__dict__ ä¸­
		print(self.__dict__[item]) #ä»å­—å…¸ä¸­å–å€¼

	def __setitem__(self, key, value):
		print("è®¾ç½®ä¸€ä¸ª KEY ...", key)
		self.__dict__[key] = value

	def __delitem__(self, key):
		print("åˆ é™¤æŸä¸ª KEY", key)
		self.__dict__.pop(key)


b = Brand("å“ç‰Œ A", "äºšæ´²")  # å‚æ•°æ”¶é›†ä¸ºï¼š {'name': 'å“ç‰Œ A', 'area': 'äºšæ´²'}
b["name"] # ğŸ”¥è®¾ç½®ä¸ºå­—å…¸å, å¯ä»¥é€šè¿‡å­—å…¸çš„æ–¹å¼è·å– name
b["area"] # ğŸ”¥è®¾ç½®ä¸ºå­—å…¸å, é€šè¿‡å­—å…¸çš„æ–¹å¼è·å– area
b["area"] = "Europe"
b["area"] 
del b["area"] # åˆ é™¤å­—å…¸ä¸­çš„æŸä¸ªå±æ€§




print("__repr__  |  __str__  æ–¹æ³•, ğŸ‘ åœ¨æ‰“å°å¯¹è±¡å®ä¾‹æ—¶, å¯ä»¥è®©å±æ€§ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿›è¡Œå±•ç¤º (è¿”å›çš„å¿…é¡»æ˜¯å­—ç¬¦ä¸²æ‰èƒ½ç”¨ï¼å¦åˆ™ä¼šæŠ¥é”™ï¼) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

class School:
	def __init__(self, name, address, type):
		self.name = name
		self.address = address
		self.type = type
		
	def __repr__(self):
		return (f"repr å¤„ç†åçš„å±æ€§: {self.name}, {self.address}, {self.type}")

	def __str__(self):
		return (f"str å¤„ç†åçš„å±æ€§: {self.name}, {self.address}, {self.type}")


s1 = School("å­¦æ ¡ A", "ShangHai", "å…¬ç«‹")
print(s1)

s2 = School("School B", "ShenZhen", "ç§ç«‹")
print(str(s2))





print("__del__ æ–¹æ³•, ğŸ‘  ææ„æ–¹æ³•, åœ¨å¯¹è±¡æ¶ˆå¤±æ—¶ä¼šæ‰§è¡Œ (æœ€åæ‰§è¡Œ) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
class Sweet:
	def __init__(self, name):
		self.name = name
		
	def __del__(self):
		print("å¯¹è±¡è¢«ç§»é™¤äº†..æ‰§è¡Œäº†ææ„æ–¹æ³•...")
  
sun1 = Sweet("honey")






print("__new__ æ–¹æ³•, ä¼šåœ¨ init æ–¹æ³•ä¹‹å‰æ‰§è¡Œ(æ³¨æ„, å†™äº† new åéœ€è¦æ‰‹åŠ¨è°ƒç”¨ init !!), å¯ä»¥ç”¨æ¥åšã€å•å®ä¾‹ã€‘â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
# ğŸŒŸ åŸºæœ¬é€»è¾‘ï¼ˆåœ¨ __init__ ä¹‹å‰æ‰§è¡Œï¼‰
class SuperCat:
	def __init__(self, name):
		self.name = name
		print("ç¬¬äºŒæ‰§è¡Œ")
	
	def __new__(cls, *args, **kwargs):
		print(cls, args, kwargs, "ç¬¬ä¸€æ‰§è¡Œ")
		return object.__new__(cls) # å†™äº† new åéœ€è¦æ‰‹åŠ¨è°ƒç”¨ init !! ğŸš€ éœ€è¦ return ä¸€ä¸‹ï¼
	
superCat = SuperCat("è¶…çº§çŒ«")


# ğŸŒŸ å•å®ä¾‹çš„æ–¹å¼ (æ¯”å¦‚ç³»ç»Ÿçš„è®¾ç½®é¢æ¿æˆ–è€…æ˜¯æ‰“å°æœº, è°ƒç”¨åä»ä¸åŒçš„ä½ç½®åªä¼šæ‰“å¼€åŒä¸€ä¸ªè®¾ç½®é¢æ¿è·Ÿæ‰“å°æœº, è€Œä¸ä¼šæ‰“å¼€å¤šä¸ª)
class Printer:
	tasks = [] # ğŸ”¥ ç”¨äºå­˜æ”¾ä»»åŠ¡, ä»»åŠ¡ä¼šå…±äº«, ä½†æ˜¯å®ä¾‹æ˜¯å•ç‹¬çš„, ğŸš€ å†…å­˜åœ°å€ä¸ä¸€æ ·
	hasInstance = None # ğŸ”¥ å­˜æ”¾ç¬¬ä¸€æ¬¡å®ä¾‹åŒ–çš„å¯¹è±¡
	
	def __init__(self, name) -> str:
		self.name = name
		
	def add_task(self, job) -> None:
		self.tasks.append(job)
		print(f"æ·»åŠ äº†ä¸€æ¡æ–°ä»»åŠ¡ {self.name} {job}, æ€»ä»»åŠ¡æ•°é‡: {len(self.tasks)}")
	
	def __new__(cls, *args, **kwargs): # åªæœ‰ç¬¬ä¸€æ¬¡å®ä¾‹åŒ–æ—¶æ‰æ‰§è¡Œ, ğŸš€ cls æ˜¯ç±»å¯¹è±¡çš„å¼•ç”¨,  ç”¨æ¥è¿›è¡Œå®ä¾‹åŒ–æˆ–è€…è·å–é‡Œè¾¹çš„å‚æ•°!
		if cls.hasInstance is None:
			# ğŸš€ğŸš€ å¦‚æœè¿˜æ²¡æœ‰å®ä¾‹åŒ–, å°±è¿›è¡Œå®ä¾‹åŒ–, å¹¶æŠŠå®ä¾‹åŒ–åçš„å¯¹è±¡å­˜åœ¨ cls.hasInstance é‡Œè¾¹
			obj = object.__new__(cls)  # å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡, ğŸš€ cls æ˜¯ç±»å¯¹è±¡çš„å¼•ç”¨,  ç”¨æ¥è¿›è¡Œå®ä¾‹åŒ–æˆ–è€…è·å–é‡Œè¾¹çš„å‚æ•°!
			print("obj", obj)
			cls.hasInstance = obj
		return cls.hasInstance # ğŸš€ğŸš€ å¦‚æœå·²ç»è¿›è¡Œäº†å®ä¾‹åŒ–, åˆ™è¿”å›ä¸Šä¸€æ¬¡çš„å®ä¾‹
        
	 
		 
p1 = Printer("Word app")
p2 = Printer("Excel app")
p3 = Printer("Pdf app")

p1.add_task("æ–‡æ¡£æ–‡ä»¶ 1")
p2.add_task("Exlce æ–‡ä»¶ 1")
p3.add_task("pdf æ–‡ä»¶ 1")

print(p1, p2, p3) # ğŸš€ è¿›è¡Œå•å®ä¾‹å, æ‰“å°å‡ºçš„å†…å­˜åœ°å€å°±éƒ½ä¸€æ ·äº†





print("__new__ æ–¹æ³•, åƒè°ƒç”¨å‡½æ•°ä¸€æ ·å»è°ƒç”¨ä¸€ä¸ªå¯¹è±¡, åˆ©ç”¨ __call__ æ–¹æ³•å¯ä»¥åœ¨ç±»è¢«è°ƒç”¨æ—¶, å°±ä¼šè‡ªåŠ¨è§¦å‘ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
class Water:
	def __init__(self, nameNum):
		self.nameNum = nameNum
		
	def __call__(self, num, *args, **kwargs) -> int:
		print(f"è·å¾—ä¹˜æ³•çš„ç»“æœ: {self.nameNum * num}")
		return self.nameNum * num
  
w = Water(99)
print(w(666))




print("ç”¨ type åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªç±» â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
class Animals:
    def __init__(self, name):
        self.name = name
        
cuteCat = Animals("å˜Ÿå˜Ÿ")

def __init__(self, name):
    self.name = name
CatClass = type("Animals", (object,), {"role" : "cat", "__init__" : __init__}) # ğŸ”¥æ”¾å…¥å­—å…¸, role ä¸ºç±»å±æ€§, __init__ ä¸ºç±»æ–¹æ³•
cuteCat2 = CatClass("é¥­å›¢")
print(cuteCat2.role)




print("ç”¨ ininstance åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
class Foo():
    pass

obj = Foo
instance(obj, Foo)




print("ç”¨ issubclass åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±» â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
class Foo2:
    pass

class Bar(Foo2):
    pass

issubclass(Bar, Foo2)
    

    




        




